<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>항목 필터링</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      text-decoration: none;
      list-style-type: none;
    }

    .container {
      width: 40%;
      margin: 50px auto;
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    input {
      width: 50%;
      height: 40px;
    }

    ul {
      width: 50%;
    }

    ul li {
      width: 100%;
      height: 40px;
      border: 1px solid gray;
    }
  </style>
</head>

<body>
  <div class="container">
    <h1>항목 필터링 예제</h1>
    <input type="text" id="filterInput" placeholder="검색어 입력">
    <ul id="itemList">
      <li>사과</li>
      <li>바나나</li>
      <li>체리</li>
      <li>포도</li>
      <li>키위</li>
      <li>사과2</li>
    </ul>
  </div>
  <script>

    /*최종목적
    
    html에서 ul태그 안에 있는 li요소들 중에
    
    검색어 입력창에서 값을 칠때마다 //셀렉트, 이벤트할당
    입력한 값을 포함하고 있는 li요소들을 
    //해당 글자를 가지는지 indexOf로 찾는다.
    보여준다. //display = "block"*/

    //1. 셀렉트하기
    let filterInput = document.querySelector('#filterInput');
    let itemList = document.querySelector('#itemList'); //ul
    let items = itemList.querySelectorAll('li'); // 모든 li 요소 가져오기

    //2. 이벤트 할당하기
    // 입력값에 따라 항목 필터링
    filterInput.addEventListener('keyup', filterFunction);

    //3. 함수 선언하기
    function filterFunction() {
      //4. 함수 내부 코드 작성하기

      //입력 받은 값을 가져온다.
      let filterText = filterInput.value; // 입력받은값 가져옴

      // 항목 필터링
      items.forEach(function (item) { //value : li태그
        //item 변수에 들어있는 데이터 : 각 li태그 요소
        let itemText = item.textContent; //문자열
        if (itemText.indexOf(filterText) !== -1) { //문자열 > indexOf()
          //"사과" - "사"라는 값을 가지고 있냐? 그렇다면 해당 index값 반환
          item.style.display = 'block'; // 일치하는 항목 표시
        } else {
          item.style.display = 'none'; // 일치하지 않는 항목 숨기기
        }
      });
    }
  </script>
</body>

</html>